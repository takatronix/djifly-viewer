<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DJI Fly Stream Viewer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header-row" style="display: flex; align-items: center; justify-content: space-between;">
            <h1 style="margin: 0 auto; display: flex; align-items: center; justify-content: center; flex: 1; text-align: center;">
                <img src="icon.png" alt="DJI Icon" style="width: 32px; height: 32px; vertical-align: middle; margin-right: 10px;">DJI Fly Stream Viewer
            </h1>
            <button id="djiGoggles3Btn" class="dji-button" style="margin-left: auto;">⚙️ 接続方法</button>
        </div>
        <div class="controls-row status-group">
            <select id="modeSelect">
                <option value="original">🎥 標準品質 (1080p)</option>
                <option value="low_720p">⚡ 低遅延 720p</option>
                <option value="low_480p">⚡ 低遅延 480p</option>
            </select>
            <span class="label">状態:</span>
            <span id="status" class="value">未接続</span>
            <span class="label">RTMP URL:</span>
            <code id="rtmpUrl" onclick="copyRtmpUrl()" style="border: 2px solid #1976d2; background: #e3f2fd; color: #0d47a1; padding: 2px 8px; border-radius: 5px; font-weight: bold; font-size: 1.05em; cursor: pointer;">読み込み中...</code>
            <button class="help-button" id="rtmpHelp" title="RTMP URLのヘルプ">?</button>
        </div>

        <div class="video-container">
            <video id="videoPlayer" controls autoplay muted></video>
        </div>


    </div>

    <!-- ログパネル -->
    <div id="logPanel" class="log-panel">
        <div class="log-header">
            <span>📋 システムログ</span>
            <div class="log-controls">
                <button id="clearLogBtn" title="ログをクリア">🗑️</button>
                <button id="toggleLogBtn" title="ログパネルを折りたたむ">▼</button>
            </div>
        </div>
        <div id="logContent" class="log-content"></div>
        <div id="logResizer" class="log-resizer"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flv.js@1.6.2/dist/flv.min.js"></script>
    <script src="app.js"></script>
</body>
</html>